!function(n){"use strict";function r(n){n.touches||(n.touches=n.originalEvent.touches)}function f(n,t){t._startY=n.touches[0].pageY;t.opts.scrollArea==window?(t._meHeight=u.height(),t._childrenHeight=h.height()):(t._meHeight=t.$element.height(),t._childrenHeight=t.$element.children().height());t._scrollTop=t.$scrollArea.scrollTop()}function e(t,r){r._curY=t.touches[0].pageY;r._moveY=r._curY-r._startY;r._moveY>0?r.direction="down":r._moveY<0&&(r.direction="up");var u=Math.abs(r._moveY);""!=r.opts.loadUpFn&&r._scrollTop<=0&&"down"==r.direction&&(t.preventDefault(),r.insertDOM||(r.$element.prepend('<div class="'+r.opts.domUp.domClass+'"><\/div>'),r.insertDOM=!0),r.$domUp=n("."+r.opts.domUp.domClass),i(r.$domUp,0),u<=r.opts.distance?(r._offsetY=u,r.$domUp.html("").append(r.opts.domUp.domRefresh)):u>r.opts.distance&&u<=2*r.opts.distance?(r._offsetY=r.opts.distance+.5*(u-r.opts.distance),r.$domUp.html("").append(r.opts.domUp.domUpdate)):r._offsetY=r.opts.distance+.5*r.opts.distance+.2*(u-2*r.opts.distance),r.$domUp.css({height:r._offsetY}));""!=r.opts.loadDownFn&&r._childrenHeight<=r._meHeight+r._scrollTop&&"up"==r.direction&&(t.preventDefault(),r.insertDOM||(r.$element.find("."+r.opts.domDown.domClass).length===0?r.$element.append('<div class="'+r.opts.domDown.domClass+'"><\/div>'):"",r.insertDOM=!0),r.$domDown=n("."+r.opts.domDown.domClass),i(r.$domDown,0),u<=r.opts.distance?(r._offsetY=u,r.$domDown.html("").append(r.opts.domDown.domRefresh)):u>r.opts.distance&&u<=2*r.opts.distance?(r._offsetY=r.opts.distance+.5*(u-r.opts.distance),r.$domDown.html("").append(r.opts.domDown.domUpdate)):r._offsetY=r.opts.distance+.5*r.opts.distance+.2*(u-2*r.opts.distance),r.$domDown.css({height:r._offsetY}),r.$scrollArea.scrollTop(r._offsetY+r._scrollTop))}function o(t){var r=Math.abs(t._moveY);t.insertDOM&&("down"==t.direction?(t.$domResult=t.$domUp,t.domLoad=t.opts.domUp.domLoad):"up"==t.direction&&(t.$domResult=t.$domDown,t.domLoad=t.opts.domDown.domLoad),i(t.$domResult,300),r>t.opts.distance?(t.$domResult.css({height:t.$domResult.children().height()}),t.$domResult.html("").append(t.domLoad),s(t)):t.$domResult.css({height:"0"}).on("webkitTransitionEnd",function(){t.insertDOM=!1;n(this).remove()}),t._moveY=0)}function s(n){n.loading=!0;""!=n.opts.loadUpFn&&"down"==n.direction?n.opts.loadUpFn(n):""!=n.opts.loadDownFn&&"up"==n.direction&&n.opts.loadDownFn(n)}function i(n,t){n.css({"-webkit-transition":"all "+t+"ms",transition:"all "+t+"ms"})}var t,u=n(window),h=n(document);n.fn.dropload=function(n){return new t(this,n)};t=function(t,i){var r=this;r.$element=n(t);r.insertDOM=!1;r.loading=!1;r.isLock=!1;r.init(i)};t.prototype.init=function(t){var i=this;i.opts=n.extend({},{scrollArea:i.$element,domUp:{domClass:"dropload-up",domRefresh:'<div class="dropload-refresh">↓下拉刷新<\/div>',domUpdate:'<div class="dropload-update">↑释放更新<\/div>',domLoad:'<div class="dropload-load"><span class="loading"><\/span>加载中...<\/div>'},domDown:{domClass:"dropload-down",domRefresh:'<div class="dropload-refresh">↑上拉加载更多<\/div>',domUpdate:'<div class="dropload-update">↓释放加载<\/div>',domLoad:'<div class="dropload-load"><span class="loading"><\/span>加载中...<\/div>'},distance:50,loadUpFn:"",loadDownFn:""},t);i.$scrollArea=i.opts.scrollArea==window?u:i.opts.scrollArea;i.$element.on("touchstart",function(n){i.loading||i.isLock||(r(n),f(n,i))});i.$element.on("touchmove",function(n){i.loading||i.isLock||(r(n,i),e(n,i))});i.$element.on("touchend",function(){i.loading||i.isLock||o(i)})};t.prototype.lock=function(){var n=this;n.isLock=!0};t.prototype.unlock=function(){var n=this;n.isLock=!1};t.prototype.resetload=function(){var t=this;t.$domResult&&t.$domResult.css({height:"0"}).on("webkitTransitionEnd",function(){t.loading=!1;t.insertDOM=!1;n(this).remove()})}}(window.Zepto||window.jQuery);
/*!
 * jQuery Cookie Plugin v1.4.1
 * https://github.com/carhartl/jquery-cookie
 *
 * Copyright 2013 Klaus Hartl
 * Released under the MIT license
 */
(function(n){typeof define=="function"&&define.amd?define(["jquery"],n):typeof exports=="object"?n(require("jquery")):n(jQuery)})(function(n){function i(n){return t.raw?n:encodeURIComponent(n)}function u(n){return t.raw?n:decodeURIComponent(n)}function f(n){return i(t.json?JSON.stringify(n):String(n))}function e(n){n.indexOf('"')===0&&(n=n.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return n=decodeURIComponent(n.replace(o," ")),t.json?JSON.parse(n):n}catch(i){}}function r(i,r){var u=t.raw?i:e(i);return n.isFunction(r)?r(u):u}var o=/\+/g,t=n.cookie=function(e,o,s){var y,a,h,v,c,p;if(o!==undefined&&!n.isFunction(o))return s=n.extend({},t.defaults,s),typeof s.expires=="number"&&(y=s.expires,a=s.expires=new Date,a.setTime(+a+y*864e5)),document.cookie=[i(e),"=",f(o),s.expires?"; expires="+s.expires.toUTCString():"",s.path?"; path="+s.path:"",s.domain?"; domain="+s.domain:"",s.secure?"; secure":""].join("");for(h=e?undefined:{},v=document.cookie?document.cookie.split("; "):[],c=0,p=v.length;c<p;c++){var w=v[c].split("="),b=u(w.shift()),l=w.join("=");if(e&&e===b){h=r(l,o);break}e||(l=r(l))===undefined||(h[b]=l)}return h};t.defaults={};n.removeCookie=function(t,i){return n.cookie(t)===undefined?!1:(n.cookie(t,"",n.extend({},i,{expires:-1})),!n.cookie(t))}}),function(){window.common={};window.common.requestParam=null;window.config={historyLocalStoreName:"_HISTORY_C4_M16",postTimeOut:1e4,maskmsg:null,ajaxPostContext:null,alertDivHTMLString:"<div class='alert_box' style='position:fixed;z-index:1500;width:100%;opacity:1;height:100%;left:0;top:0px;background-color:rgba(68,68,68,0.4);transition:all 0.3s linear'><div class='content' style='width:260px;text-align:center;position:absolute;font-size:14px;left:50%;top:50%; transform:translateY(-50%) translateX(-50%);-webkit-transform:translateY(-50%) translateX(-50%);background-color:#fff;border-radius:10px'><P style='padding:20px 15px; line-height:25px; color:#333;font-size:16px'>{0}<P><div><div>"},function(){String.prototype.format=function(n){var i=this,r,t,u;if(arguments.length>0)if(arguments.length==1&&typeof n=="object")for(r in n)n[r]!=undefined&&(u=new RegExp("({)"+r+"(})","g"),i=i.replace(u,n[r]));else for(t=0;t<arguments.length;t++)arguments[t]!=undefined&&(u=new RegExp("({)"+t+"(})","g"),i=i.replace(u,arguments[t]));return i};Date.prototype.Format=function(n){var t={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()},r,i;for(r in t)if(isNaN(t[r]))return"";/(y+)/.test(n)&&(n=n.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(i in t)new RegExp("("+i+")").test(n)&&(n=n.replace(RegExp.$1,RegExp.$1.length==1?t[i]:("00"+t[i]).substr((""+t[i]).length)));return n};Array.prototype.removeAt=function(n){if(isNaN(n)||n>=this.length)return!1;this.splice(n,1)};Array.prototype.insertAt=function(n,t){this.splice(n,0,t)};window.alert=function(n,t,i){if(i=isNaN(i)?2e3:i,$(".alert_box").length)$(".alert_box .content p:first").text(n).parents(".alert_box").css({opacity:"1",width:"100%",height:"100%"});else{var r=$(window.config.alertDivHTMLString.format(n));$("body").append(r)}setTimeout(function(){if($(".alert_box").length>0){var n=.7;$(".alert_box")[0].style.webkitTransition="-webkit-transform "+n+"s ease-in, opacity "+n+"s ease-in";$(".alert_box")[0].style.opacity="0";t&&t();setTimeout(function(){$(".alert_box").remove()},n*1e3)}},i)};window.confirm=function(n,t,i,r){var e=document.createElement("div"),o,h,s,u,f;e.style.cssText="position:fixed;top: 0;left:0;width: 100%;height: 100%;background: rgba(0,0,0,0.5);z-index:9999999999";o=document.createElement("div");o.style.cssText="width: 72%;background: #ffffff;border-radius: 8px;margin:70% auto;position: relative;text-align: center;overflow:hidden;font-size:14px;";h=document.createElement("span");h.innerHTML=n;h.style.cssText="margin: 20px;display:block;";s=document.createElement("ul");s.style.cssText="margin-top:10px;border-top: 1px solid #dcdcdc;";u=document.createElement("li");u.style.cssText="text-align: center;line-height: 40px;float:left;width:50%;border-right: 1px solid gainsboro;margin-left:-1px;font-size:12px;color:red;";u.innerHTML="取消";i&&i.text&&(u.innerHTML=i.text);u.onclick=function(){i.fn&&i.fn();document.body.removeChild(e)};f=document.createElement("li");f.style.cssText="text-align: center;line-height: 40px;float:left;width:50%;font-size:12px;color:red;";f.innerHTML="确定";t&&t.text&&(f.innerHTML=t.text);f.onclick=function(){t.fn&&t.fn();r&&r();document.body.removeChild(e)};s.appendChild(u);s.appendChild(f);o.appendChild(h);o.appendChild(s);e.appendChild(o);document.body.appendChild(e)}}();window.common.history=new function(){function r(){if(n){var i=t();return i.length>1?i[i.length-2]:null}}function s(){if(n){var i=t();i.length>0&&(i.pop(),u(i))}}function u(t){n&&window.localStorage.setItem(window.config.historyLocalStoreName,JSON.stringify(t))}function t(){if(n){var t=window.localStorage.getItem(window.config.historyLocalStoreName);return t?JSON.parse(t):[]}}function e(){if(n){var t=r();t!=null&&(s(),window.location.href=t)}}function h(i){var u,r;if(n)if(u=t(),u.length>0){for(r=0;r<u.length;r++)if(u[r]===i)return r}else return-1;else return alert("浏览器版本太老，请升级浏览器")}function c(i){var r;if(n){var e=t(),o=h(i),f=[];for(r=0;r<o;r++)f.push(e[r]);u(f)}else return alert("浏览器版本太老，请升级浏览器")}function o(i){var r,f;if(n){if(r=t(),r.length>0){for(f=r.length-1;f>=0;f--)r[f]===i&&(r.removeAt(f),f--);r.push(i)}else r.push(i);u(r)}else return alert("浏览器版本太老，请升级浏览器")}function l(n){if(i=n,f=!0,history&&history.pushState)window.history.pushState(null,null,null),window.onpopstate=function(){c(i);window.location.href=i};else return alert("浏览器版本太老，请升级浏览器")}function a(n){if(f===!1)if(o(n),history&&history.pushState)v();else return alert("浏览器版本太老，请升级浏览器")}function v(){window.history.pushState(null,null,null);window.onpopstate=function(){var n=r();n!==null?e():wx.closeWindow()}}var n=window.localStorage!=undefined&&window.localStorage!=null,i=null,f=!1;return{back:e,pushHistory:o,setBackURL:l,getAllHistory:t,getPrev:r,pushHistoryAsPushState:a}};$(function(){window.common.history.pushHistoryAsPushState(window.location.pathname+window.location.search)});window.$_c4={encodeParam:function(n){return n?n instanceof String?encodeURIComponent(n):encodeURIComponent(JSON.stringify(n)):n},show:function(n){if(window.config.maskmsg===null){var t=$(document).height();window.config.maskmsg=$('<div style="height:100%;width:100%;position:fixed;z-index:99999;background: rgba(255,255,255,0.8);left:0px;top:0px;"><div style="position:absolute;overflow:hidden;left:50%;top:50%;margin-left:-34px;margin-top:-34px;height:68px;width:68px;text-align:center;"><span class="circles-loader"><\/span><\/div><\/div>');n&&window.config.maskmsg.find("div").text(n);window.config.maskmsg.appendTo("body");setTimeout(function(n){return function(){n.remove()}}(window.config.maskmsg),window.config.postTimeOut)}},hide:function(){window.config.maskmsg!==null&&(window.config.maskmsg.remove(),window.config.maskmsg=null)}};$.fn.serializeObject=function(){var n={},t=this.serializeArray();return $.each(t,function(){n[this.name]!==undefined?(n[this.name].push||(n[this.name]=[n[this.name]]),n[this.name].push(this.value||"")):n[this.name]=this.value||""}),n};window.common.post=function(n,t,i,r,u,f,e,o,s){u=u==!1?!1:!0;u&&window.$_c4.show();var c=window.$_c4.encodeParam({data:t}),h=$.ajax.call(window.config.ajaxPostContext,{type:"post",url:n,cache:!1,contentType:"application/x-www-form-urlencoded",dataType:s?s:"text",data:c,async:f==!1?f:!0,success:function(n){try{u&&window.$_c4.hide();var t=JSON.parse(n||null);try{t.Data=JSON.parse(t.Data||null)}catch(f){}t.Succeeded&&i(t);!t.Succeeded&&r&&r(t)}catch(f){alert(f.message)}},error:e?e:function(){h.abort();u&&window.$_c4.hide();window.location.href="/Status/ToServiceError"},complete:function(n,t){t==="timeout"&&(alert("访问超时"),h.abort(),u&&window.$_c4.hide())}})};window.common.page={};window.common.page.pagerParam=new function(){this.pageIndex=1;this.pageSize=10;this.pageNumberCount=1};window.common.page.initDropLoad=function(n,t,i){var r=i||"body";$(r).dropload({scrollArea:window,loadDownFn:function(i){window.common.page.paging(i,n,t)}})};window.common.page.paging=function(n,t,i){var r=window.common.page.pagerParam;setTimeout(function(){r.pageIndex++;r.pageIndex<=r.pageNumberCount?t&&t(r.pageIndex,r.pageSize):(alert(i||"没有数据啦！亲"),r.pageIndex--);n.resetload()},200)};window.noData=function(n){var t=n||"body";$(t).html('<div class="w-notDATA" style="display:block" id="allOrder_havaNoData"><b><\/b><h4 class="w-font14 w-colorccc w-textalignC">暂时没有数据<\/h4><\/div>')};window.common.page.calculationPage=function(n){window.common.page.pagerParam.pageNumberCount=parseInt(n)%parseInt(window.common.page.pagerParam.pageSize)==0?parseInt(n)/parseInt(window.common.page.pagerParam.pageSize):parseInt(n/window.common.page.pagerParam.pageSize)+1};window.common.toFixed=function(n,t,i){var r,f,u,e;try{return(t||(t=2),t>15||t<0)?n:(r=n.toString(),i?r.indexOf(".")>0?(f=r.substring(0,r.indexOf(".")),u=r.substr(r.indexOf(".")+1,t+1),u.length>t?parseInt(u[t])>=5?(e=parseInt(u.substr(0,[t]))+1,parseFloat("{0}.{1}".format(f,e))):parseFloat("{0}.{1}".format(f,u.substring(0,t))):n):n:r.indexOf(".")>0?parseFloat(r.substring(0,r.indexOf(".")+t+1)):n)}catch(o){throw new Error("对数字进行固定精度操作出错，错误原因是：{0}".format(o.message));}};window.common.isMobilePhone=function(n){return/^((13[0-9]|14[0-9]|15[0-9]|17[0-9]|18[0-9])\d{8})*$/.exec(n)?!0:!1};window.common.setStorageItem=function(n,t){window.localStorage.setItem(n,JSON.stringify(t))};window.common.getStorageItem=function(n){var t=window.localStorage.getItem(n);return t!==null&&t!==undefined?JSON.parse(t):null};window.common.getStorageItemNoResident=function(n){var t=window.localStorage.getItem(n);return t!==null&&t!==undefined?(window.localStorage.removeItem(n),JSON.parse(t)):null};window.common.removeStorageItem=function(n){window.localStorage.getItem(n)&&window.localStorage.removeItem(n)};window.common.toLogin=function(n){window.common.setStorageItem("_now_login_url",n)}}();