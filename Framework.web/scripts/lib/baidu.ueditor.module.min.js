/*!
 * Yangyukun Script Library
 * version: 1.0.1
 * build: Sun Aug 07 2016 21:44:15 GMT+0800 (中国标准时间)
 * Released under MIT license
 * 
 */
modules.define("ue",["cache"],function(n){function r(i,r){return UE.delEditor(i),t=UE.getEditor(i,{serverUrl:n.getCache(enums.VARIABLE.UEDITOR_URL)}),t.ready(function(){r&&t.setContent(r)}),t}function u(n,t){n.setContent(t)}function f(n){return n.getContent()}function e(n){return n.getContentTxt()}function o(n){var t,i;return n===1&&(t=UE.getEditor("UE_container",{serverUrl:window.global.ServerUrl})),t=UE.getEditor("container_UE",{serverUrl:window.global.ServerUrl}),t.ready(function(){t.hide();t.addListener("beforeInsertImage",function(n,t){i&&(i(t),i=null)})}),t.SingleUpLoadImage=function(n){t.getDialog("insertimage").open();i=n},t}function s(n,t,i,r,u){function h(n){return'<li><div class="redm"><img src="'+n+'" /><span><i class="icon-cancel"><\/i><\/span><\/div><\/li>'}function a(n){return n.indexOf("-")>0?n.substring(0,n.indexOf("-"))+n.substring(n.lastIndexOf("."),n.length):n}function l(){e.find("li").mouseenter(function(){$(this).find("span").show()}).mouseleave(function(){$(this).find("span").hide()});e.find(".icon-cancel").unbind("click").bind("click",function(){var n=$(this).parents("li");i.splice(jQuery.inArray(n.find("img").attr("src"),i),1);n.remove();--o;$("#"+u).val(i.join())})}var f,e,o,s,c;return r=r||5,f='<ul id="c-'+t+'" class="ue-select-image-list"><ul>',$("#"+t).html(f),e=$("#c-"+t),e.html('<li><img id="btn-'+t+'" src="" class="btn-ue-upimage-toserver"><\/li>'),o=0,i&&i.length>0&&(f="",$(i).each(function(n){f+=h(i[n])}),e.append(f),l(),o+=i.length),c=$("#btn-"+t),c.click(function(){n.SingleUpLoadImage(function(n){if(f="",n&&n.length){for(var t=0;t<n.length;t++){if(o>=r){alert("上传张数不能超过"+r+"张");break}s=a(n[t].src);i.push(s);f+=h(s);++o}e.append(f);l();$("#"+u).val(i.join())}})}),{get_imgs:function(){return i}}}var t=null,i={anchor:!1,undo:!1,redo:!1,bold:!1,indent:!1,snapscreen:!1,italic:!1,underline:!1,strikethrough:!1,subscript:!1,fontborder:!1,superscript:!1,formatmatch:!1,source:!1,blockquote:!1,pasteplain:!1,selectall:!1,print:!1,preview:!1,horizontal:!1,removeformat:!1,time:!1,date:!1,unlink:!1,insertrow:!1,insertcol:!1,mergeright:!1,mergedown:!1,deleterow:!1,deletecol:!1,splittorows:!1,splittocols:!1,splittocells:!1,deletecaption:!1,inserttitle:!1,mergecells:!1,deletetable:!1,cleardoc:!1,insertparagraphbeforetable:!1,insertcode:!1,fontfamily:!1,fontsize:!1,paragraph:!1,simpleupload:!1,insertimage:!1,edittable:!1,edittd:!1,link:!1,emotion:!1,spechars:!1,searchreplace:!1,map:!1,gmap:!1,insertvideo:!1,help:!1,justifyleft:!1,justifyright:!1,justifycenter:!1,justifyjustify:!1,forecolor:!1,backcolor:!1,insertorderedlist:!1,insertunorderedlist:!1,fullscreen:!1,directionalityltr:!1,directionalityrtl:!1,rowspacingtop:!1,rowspacingbottom:!1,pagebreak:!1,insertframe:!1,imagenone:!1,imageleft:!1,imageright:!1,attachment:!1,imagecenter:!1,wordimage:!1,lineheight:!1,"edittip ":!1,customstyle:!1,autotypeset:!1,webapp:!1,touppercase:!1,tolowercase:!1,background:!1,template:!1,scrawl:!1,music:!1,inserttable:!1,drafts:!1,charts:!1};return{ueModuleCfg:i,initUE:r,setContent:u,UEeditor:o,InitPicture:s,getHtmlContent:f,getTextContent:e}});